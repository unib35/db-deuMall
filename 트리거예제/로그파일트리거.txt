create table dept_same( deptno number(2),
                        dname varchar2(14),
                        loc varchar2(10),
                        o_deptno number(2),
                        o_dname varchar2(14),
                        o_loc varchar(10), 
                        gubun varchar2(10), 
                        chk_date date);

create or replace trigger dept_trigger
after insert or update or delete on dept for each row
begin
 if INSERTING then
  insert into dept_same( deptno, dname, loc, gubun, chk_date ) values (:new.deptno, :new.dname, :new.loc,'입력', sysdate);
 elsif UPDATING then
  insert into dept_same  (deptno,dname,loc,o_deptno,o_dname,o_loc,gubun, chk_date)
  values(:new.deptno,:new.dname,:new.loc,:old.deptno,:old.dname,:old.loc,'수정', sysdate);
 elsif DELETING then
  insert into dept_same (deptno,dname,loc,gubun, chk_date)
  values (:old.deptno, :old.dname, :old.loc, '삭제', sysdate);
 end if;
end;
/
show errors;